version: 0.2

phases:
  install:
    commands:
      - apt-get install -y zip
  pre_build:
    commands:
      - dotnet --info --version
  build:
    commands:
      - dotnet build src/microservice.api.rest
  post_build:
    commands:
      - dotnet publish src/microservice.api.rest --output bin/publish
      - cd src/microservice.api.rest/bin/publish
      - zip -r microservice.api.rest.zip ./*
artifacts:
  files:
    - src/microservice.api.rest/publish/microservice.api.rest.zip